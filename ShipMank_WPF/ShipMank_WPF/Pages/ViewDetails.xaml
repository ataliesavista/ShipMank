<Page x:Class="ShipMank_WPF.Pages.ViewDetails"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
      mc:Ignorable="d" 
      d:DesignHeight="950" d:DesignWidth="1280"
      Title="ViewDetails">

    <Page.Resources>
        <Style TargetType="Border" x:Key="ContentCard">
            <Setter Property="Background" Value="White" />
            <Setter Property="CornerRadius" Value="12" />
            <Setter Property="Padding" Value="25" />
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect ShadowDepth="1" BlurRadius="10" Color="#000000" Opacity="0.08" />
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="TextBlock" x:Key="SectionHeader">
            <Setter Property="FontSize" Value="18" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="Foreground" Value="#374151" />
            <Setter Property="Margin" Value="0,0,0,15" />
        </Style>

        <Style TargetType="TextBlock" x:Key="LabelText">
            <Setter Property="FontSize" Value="13" />
            <Setter Property="Foreground" Value="#6B7280" />
            <Setter Property="Margin" Value="0,0,0,4" />
        </Style>
        <Style TargetType="TextBlock" x:Key="ValueText">
            <Setter Property="FontSize" Value="15" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Foreground" Value="#111827" />
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>
    </Page.Resources>

    <Grid Background="#FFF9AF">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Margin="40,30,40,20">
            <StackPanel Orientation="Horizontal">
                <Button Click="BackButton_Click" Background="Transparent" BorderThickness="0" Cursor="Hand" Margin="0,0,15,0">
                    <iconPacks:PackIconMaterial Kind="ArrowLeft" Width="24" Height="24" Foreground="#333"/>
                </Button>
                <TextBlock Text="Transaction Details" FontSize="28" FontWeight="Bold" Foreground="#333" VerticalAlignment="Center"/>
            </StackPanel>
        </Grid>

        <ScrollViewer Grid.Row="1" Margin="40,0,40,20" VerticalScrollBarVisibility="Auto">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2.2*" />
                    <ColumnDefinition Width="1*" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Margin="0,0,25,0">

                    <Border Style="{StaticResource ContentCard}" Margin="0,0,0,20">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                                <iconPacks:PackIconMaterial Kind="Account" Width="18" Height="18" Foreground="#33A1E0" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <TextBlock Text="Customer Information" Style="{StaticResource SectionHeader}" Margin="0"/>
                            </StackPanel>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Full Name" Style="{StaticResource LabelText}"/>
                                    <TextBlock x:Name="TxtCustName" Text="Loading..." Style="{StaticResource ValueText}"/>
                                </StackPanel>

                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="Email Address" Style="{StaticResource LabelText}"/>
                                    <TextBlock x:Name="TxtCustEmail" Text="Loading..." Style="{StaticResource ValueText}"/>
                                </StackPanel>

                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Phone Number" Style="{StaticResource LabelText}"/>
                                    <TextBlock x:Name="TxtCustPhone" Text="Loading..." Style="{StaticResource ValueText}"/>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <Border Style="{StaticResource ContentCard}" Margin="0,0,0,20">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                                <iconPacks:PackIconMaterial Kind="SailBoat" Width="18" Height="18" Foreground="#33A1E0" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <TextBlock Text="Trip &amp; Ship Details" Style="{StaticResource SectionHeader}" Margin="0"/>
                            </StackPanel>

                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,0,20">
                                    <TextBlock Text="Ship Name" Style="{StaticResource LabelText}"/>
                                    <TextBlock x:Name="TxtShipName" Text="Going Merry" Style="{StaticResource ValueText}" FontSize="18" Foreground="#33A1E0"/>
                                </StackPanel>

                                <StackPanel Grid.Row="0" Grid.Column="1" Margin="0,0,0,20">
                                    <TextBlock Text="Ship Type / Class" Style="{StaticResource LabelText}"/>
                                    <TextBlock x:Name="TxtShipType" Text="Speedboat VIP" Style="{StaticResource ValueText}"/>
                                </StackPanel>

                                <StackPanel Grid.Row="1" Grid.Column="0">
                                    <TextBlock Text="Route (Location)" Style="{StaticResource LabelText}"/>
                                    <StackPanel Orientation="Horizontal">
                                        <iconPacks:PackIconMaterial Kind="MapMarker" Width="14" Foreground="#E74C3C" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                        <TextBlock x:Name="TxtRoute" Text="Marina Ancol -> Pulau Bidadari" Style="{StaticResource ValueText}"/>
                                    </StackPanel>
                                </StackPanel>

                                <StackPanel Grid.Row="1" Grid.Column="1">
                                    <TextBlock Text="Departure Date" Style="{StaticResource LabelText}"/>
                                    <StackPanel Orientation="Horizontal">
                                        <iconPacks:PackIconMaterial Kind="CalendarArrowRight" Width="14" Foreground="#333" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                        <TextBlock x:Name="TxtDate" Text="Senin, 12 Oct 2025" Style="{StaticResource ValueText}"/>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <Border Style="{StaticResource ContentCard}">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                                <iconPacks:PackIconMaterial Kind="CreditCardCheck" Width="18" Height="18" Foreground="#33A1E0" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <TextBlock Text="Payment Summary" Style="{StaticResource SectionHeader}" Margin="0"/>
                            </StackPanel>

                            <Border x:Name="AlertUnpaid" Visibility="Collapsed" Background="#FFFBEB" BorderBrush="#FCD34D" BorderThickness="1" CornerRadius="8" Padding="15" Margin="0,0,0,20">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <iconPacks:PackIconMaterial Kind="AlertCircleOutline" Width="24" Height="24" Foreground="#D97706" VerticalAlignment="Top" Margin="0,0,15,0"/>
                                    <StackPanel Grid.Column="1">
                                        <TextBlock Text="Waiting for Payment" FontWeight="Bold" Foreground="#D97706" FontSize="16" Margin="0,0,0,5"/>
                                        <TextBlock Text="Please complete your payment via Virtual Account before the expiration time." Foreground="#92400E" TextWrapping="Wrap" Margin="0,0,0,10"/>

                                        <TextBlock Text="Virtual Account Number:" FontSize="12" Foreground="Gray"/>
                                        <TextBlock x:Name="TxtVANumber" Text="-" FontSize="24" FontWeight="Bold" Foreground="#333" Margin="0,2,0,0"/>
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Booking Date" Style="{StaticResource LabelText}"/>
                                    <TextBlock x:Name="TxtBookingDate" Text="-" Style="{StaticResource ValueText}"/>
                                </StackPanel>

                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="Payment Date" Style="{StaticResource LabelText}"/>
                                    <TextBlock x:Name="TxtPaymentDate" Text="-" Style="{StaticResource ValueText}"/>
                                </StackPanel>

                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Payment Method" Style="{StaticResource LabelText}"/>
                                    <TextBlock x:Name="TxtPaymentMethod" Text="-" Style="{StaticResource ValueText}"/>
                                </StackPanel>
                            </Grid>

                            <Separator Background="#EEE" Margin="0,20"/>

                            <Grid>
                                <TextBlock Text="Total Paid Amount" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center"/>
                                <TextBlock x:Name="TxtTotal" Text="Rp 1.505.000" FontSize="24" FontWeight="Bold" Foreground="#10B981" HorizontalAlignment="Right"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <StackPanel Grid.Column="1">

                    <Border Style="{StaticResource ContentCard}" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="Order Status" Style="{StaticResource SectionHeader}" HorizontalAlignment="Center"/>

                            <Border x:Name="StatusBadge" Background="#E0E7FF" CornerRadius="20" Padding="20,10" HorizontalAlignment="Center" Margin="0,0,0,20">
                                <TextBlock x:Name="TxtStatus" Text="UPCOMING" FontWeight="Bold" Foreground="#3730A3" FontSize="18"/>
                            </Border>

                            <StackPanel HorizontalAlignment="Center" Margin="0,0,0,5">
                                <TextBlock Text="Order ID" Foreground="Gray" HorizontalAlignment="Center" FontSize="12"/>
                                <TextBlock x:Name="TxtOrderID" Text="BKG-00000" FontWeight="Bold" FontSize="16" Foreground="#333" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <StackPanel>
                        <Button x:Name="BtnDownload" 
                                Click="BtnDownload_Click"
                                Margin="0,0,0,10"
                                Height="50" Cursor="Hand" Background="#33A1E0" BorderThickness="0">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" CornerRadius="10">
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <iconPacks:PackIconMaterial Kind="Download" Foreground="White" Width="18" Margin="0,0,10,0"/>
                                            <TextBlock Text="Download Receipt" Foreground="White" FontWeight="Bold" FontSize="15"/>
                                        </StackPanel>
                                    </Border>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>

                        <Button x:Name="BtnCancel" 
                                Click="BtnCancel_Click"
                                Height="50" Cursor="Hand" Background="White" BorderBrush="#EF4444" BorderThickness="1.5">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="10">
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <iconPacks:PackIconMaterial Kind="Cancel" Foreground="#EF4444" Width="18" Margin="0,0,10,0"/>
                                            <TextBlock Text="Cancel Order" Foreground="#EF4444" FontWeight="Bold" FontSize="15"/>
                                        </StackPanel>
                                    </Border>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>

                        <TextBlock x:Name="TxtActionInfo" 
                                   Text="*Cancellation is only available for Upcoming/Unpaid orders." 
                                   FontSize="11" Foreground="Gray" TextWrapping="Wrap" TextAlignment="Center" Margin="0,10,0,0"/>
                    </StackPanel>

                    <Border x:Name="PanelQrCode" Style="{StaticResource ContentCard}" Margin="0,20,0,0" Visibility="Collapsed">
                        <StackPanel>
                            <TextBlock Text="E-Ticket Code" Style="{StaticResource SectionHeader}" HorizontalAlignment="Center" FontSize="16" Margin="0,0,0,10"/>

                            <Image x:Name="ImgQrCode" Width="180" Height="180" Margin="0,0,0,10" HorizontalAlignment="Center"/>

                            <Border Background="#F3F4F6" CornerRadius="6" Padding="10">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <iconPacks:PackIconMaterial Kind="ScanHelper" Width="14" Foreground="Gray" VerticalAlignment="Center" Margin="0,0,5,0"/>
                                    <TextBlock Text="Show this code to the officer" FontSize="12" Foreground="Gray"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>

                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>
</Page>